<html>
<head>
<title>ajax实现级联菜单</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<script type="text/javascript" src="js/my.js"></script><base>
<script type="text/javascript">
	function getCity(v1){
		var xhr = getXhr();
		xhr.onreadystatechange = function (){
			if(xhr.readyState==4&&xhr.status==200){
				var txt  = xhr.responseText;
				var strs = txt.split(";");
				//先清空s2
				$('s2').innerHTML = '';
				for(var i=0;i<strs.length;i++){
					var str1s = strs[i].split(",");
					//创建一个option对象
					var op = new Option(str1s[0],str1s[1]);
					$('s2').options[i] = op;
				}
			}
		};
		xhr.open('get', 'getCity.do?name='+v1,true);
		xhr.send(null);
	}
</script>
</head>
<body>
	<!-- Ajax实现级联下拉列表 -->
	<select id="s1" style="width:120px;" onchange="getCity(this.value);">
		<option value="bj">北京</option>
		<option value="sh">上海</option>
		<option value="gz">广州</option>
	</select>
	<select id="s2" style="width:120px;"></select>
</body>
</html>